# 玉米探针分析项目 - 故障排除指南

## 问题描述
您在运行玉米探针分析项目时遇到了问题。本指南将帮助您诊断和解决这些问题。

## 第一步：使用Python启动脚本

本项目现在使用Python脚本直接启动，不再依赖批处理文件。我们提供了一个功能强大的启动脚本 `start_analysis.py`，它包含了详细的错误处理和日志输出功能。请按照以下步骤操作：

1. 确保所有必要的输入文件都已放入 `data/` 目录中
2. 双击运行项目根目录下的 `start_analysis.py` 文件
3. 脚本会自动检测环境并显示详细的运行信息
4. 如果出现错误，脚本会在控制台显示错误信息，并等待您查看后再退出

## 第二步：分析启动脚本输出

运行 `start_analysis.py` 后，观察控制台输出的信息：

1. **环境检查阶段**：脚本会检查Python版本和必要库的安装情况
2. **项目结构检查阶段**：验证所有必要的目录和文件是否存在
3. **分析执行阶段**：显示分析流程的执行情况
4. **错误信息**：如果出现问题，会显示具体的错误信息和解决方案建议

## 第三步：检查项目文件完整性

## 常见问题及解决方案

### 问题1：找不到Python

**错误信息**：启动脚本提示找不到Python或Python版本过低

**解决方案**：
1. 从 [Python官网](https://www.python.org/downloads/) 下载并安装Python 3.6或更高版本
2. 确保在安装过程中勾选了 "Add Python to PATH" 选项
3. 安装完成后，重启计算机，然后再次运行脚本

### 问题2：缺少必要的输入文件

**错误信息**：启动脚本提示缺少探针序列文件、PAV序列文件等

**解决方案**：
1. 确保以下文件已放入 `data/` 目录：
   - `extracted_sequences_sliding_window.fasta`（探针序列文件）
   - `all_pav.fasta`（PAV序列文件）
   - `Zm-Mo17-REFERENCE-CAU-2.0.fa`（参考基因组文件）
   - 至少一个BLAST输出文件（文件名格式：`extracted_blast_out_*.txt`）
2. 检查文件名是否完全正确，包括大小写

### 问题3：缺少必要的Python库

**错误信息**：启动脚本提示缺少Biopython、matplotlib等库

**解决方案**：
1. 打开命令提示符（CMD）
2. 运行以下命令安装必要的库：
   ```bash
   pip install biopython matplotlib pandas numpy chardet
   ```
3. 如果安装失败，可以尝试使用管理员权限运行命令提示符

### 问题4：文件编码问题

**错误信息**：启动脚本提示UnicodeDecodeError或编码相关错误

**解决方案**：
1. 确保所有输入文件的编码格式正确（推荐使用UTF-8或ASCII）
2. 如果文件包含特殊字符，可以尝试使用文本编辑器（如Notepad++）转换文件编码

### 问题5：权限问题

**错误信息**：启动脚本提示Permission denied或访问权限错误

**解决方案**：
1. 确保您有足够的权限访问项目目录和写入文件
2. 尝试以管理员身份运行Python脚本
3. 检查文件和目录的读写权限设置

## 手动运行分析脚本

如果启动脚本仍然无法正常工作，您可以尝试通过命令行手动运行Python脚本：

1. 打开命令提示符（CMD）
2. 切换到项目目录：`cd e:\laso\玉米_probe_analysis`
3. 运行主脚本：`python scripts\main.py`
4. 查看输出信息，定位问题所在

## 运行特定步骤

如果只想运行特定的分析步骤，可以使用 `--steps` 参数：
```bash
# 只运行评分步骤
python scripts\main.py --steps score

# 只运行覆盖分析步骤
python scripts\main.py --steps coverage

# 运行评分和映射步骤
python scripts\main.py --steps score,mapping
```

## 联系支持

如果您按照上述步骤仍然无法解决问题，请提供以下信息，以便进一步诊断：

1. 启动脚本显示的完整错误信息
2. 您使用的Python版本（可以通过 `python --version` 命令获取）
3. 您的操作系统版本
4. 项目目录结构和文件列表

通过这些信息，我们可以更准确地定位并解决您遇到的问题。